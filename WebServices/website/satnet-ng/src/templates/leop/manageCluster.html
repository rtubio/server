<div class='modal-header'>
    <h3 class='modal-title'>Manage Cluster ({{ cluster.identifier }})</h3>
</div>

<div class='modal-body' style='display: inline-block; width: 100%'>
    <form name='form'>
    <div style='display: table; table-layout: fixed; border-spacing: 5px; width: 100%'>
        <div style='display: table-cell; width: 50%'>
            <div><h4>Cluster TLE</h4></div>
            <div class='control-group'
                    ng-class="{ 'has-error': form.tle_l1.$invalid }">
                <label class='control-label' for='tle_l1'>First line</label>
                <input type='text' name='tle_l1'
                       class='form-control' style='width: 100%'
                       ng-model="cluster.tle.l1"
                       ng-pattern='/^[a-zA-Z0-9.\s-]{69}$/'
                       required />
            </div>
            <div class='control-group'
                    ng-class="{ 'has-error': form.tle_l2.$invalid }">
                <label class='control-label' for='tle_l2'>Second line</label>
                <input type='text' name='tle_l2'
                       class='form-control' style='width: 100%'
                       ng-model="cluster.tle.l2"
                       ng-pattern='/^[a-zA-Z0-9.\s-]{69}$/'
                       required />
            </div>
        </div>
        <div style='display: table-cell; width: 10px'></div>
        <div style='display: table-cell; width: 50%'>
            <div style='display: table-cell'><h4>UFO Objects</h4></div>
            <div ng-hide="cluster.ufos.length"><p class='no-items'>(no ufos)</p></div>
                <ol class='unsalted-list'>
                <li class='ufo-item' ng-repeat="u in cluster.ufos">
                    <span style='margin-left: 10px'>Object #{{ u.object_id }}</span>
                    <a class='link' style='margin-left: 50px' ng-click="identify(u.object_id)">(identify)</a>
                </li>
                </ol>
            <div style='display: table-row'>
                <div style='display: table-cell; font-size: 75%'>
                    <a ng-show="cluster.ufos.length < cluster.max_ufos" class='green-link' ng-click="add()">(+ add)</a>
                    <a ng-hide="cluster.ufos.length < cluster.max_ufos " class='red-link'>MAXIMUM</a>
                </div>
                <div ng-show="cluster.ufos.length" style='display: table-cell; font-size: 75%'>
                    <a class='red-link' ng-click="remove()">(- remove)</a>
                </div>
            </div>
            <div><h4>Identified Objects</h4></div>
            <div ng-hide="cluster.identified.length"><p class='no-items'>(none identified)</p></div>
                <ol class='unsalted-list'>
                <li class='ufo-item' ng-repeat="i in cluster.identified">
                    <span style='margin-left: 10px'>Object #{{ i.object_id }}</span>
                    <a class='link' style='margin-left: 50px' ng-click="forget(i.object_id)">(forget)</a>
                </li>
                </ol>
        </div>
    </div>
    </form>
</div>

<div class='modal-footer'>
    <button class='btn btn-primary' ng-click="ok()" ng-disabled="form.$invalid">(ok)</button>
    <button class='btn btn-warning' ng-click="cancel()">(cancel)</button>
</div>