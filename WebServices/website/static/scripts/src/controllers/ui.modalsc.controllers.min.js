angular.module("ui-modalsc-controllers",["ui.bootstrap","nya.bootstrap.select","celestrak-services","satnet-services"]);angular.module("ui-modalsc-controllers").controller("AddSCModalCtrl",["$scope","$log","$modalInstance","satnetRPC","celestrak",function(a,e,d,c,b){a.sc={identifier:"",callsign:"",tlegroup:"",tleid:""};a.tlegroups=__CELESTRAK_SELECT_SECTIONS;a.tles=[];a.initTles=function(f){a.tles=b.readTLE(value.subsection,function(g){a.tles=g.slice(0)});a.sc.tlegroup=f};a.groupChanged=function(f){a.tles=b.readTLE(f.subsection,function(g){a.tles=g.slice(0)})};a.ok=function(){var f=[a.sc.identifier,a.sc.callsign,a.sc.tleid.id];c.call("sc.add",f,function(g){e.info("[map-ctrl] SC added, id = "+g.spacecraft_id)});d.close()};a.cancel=function(){d.close()}}]);angular.module("ui-modalsc-controllers").controller("EditSCModalCtrl",["$scope","$log","$modalInstance","satnetRPC","celestrak","spacecraftId",function(a,e,d,c,b,f){a.sc={identifier:f,callsign:"",tlegroup:"",tleid:"",saved_tleid:""};a.tlegroups=__CELESTRAK_SELECT_SECTIONS;a.tles=[];c.call("sc.get",[f],function(g){a.sc.identifier=f;a.sc.callsign=g.spacecraft_callsign;a.sc.saved_tleid=g.spacecraft_tle_id});a.initTles=function(g){a.tles=b.readTLE(value.subsection,function(h){a.tles=h.slice(0)});a.sc.tlegroup=g};a.groupChanged=function(g){a.tles=b.readTLE(g.subsection,function(h){a.tles=h.slice(0)})};a.update=function(){var g={spacecraft_id:f,spacecraft_callsign:a.sc.callsign,spacecraft_tle_id:a.sc.tleid.id};c.call("sc.update",[f,g],function(h){e.info("[map-ctrl] SC updated, id = "+h)});d.close()};a.cancel=function(){d.close()};a.erase=function(){if(confirm("Delete this spacecraft?")==true){c.call("sc.delete",[f],function(g){e.info("[map-ctrl] Spacecraft removed, id = "+g)});d.close()}}}]);