var DEFAULT_LAT=42.6;var DEFAULT_LNG=-8.933;var DEFAULT_ZOOM=12;var USER_ZOOM=6;function centerMap(d,c,a,b){d.setView(new L.LatLng(c,a),b)}function locateUser(a,b){$.get("http://ipinfo.io",function(c){var d=c.loc.split(",");a.info("User located at = "+d);centerMap(b,d[0],d[1],USER_ZOOM)},"jsonp").fail(function(){a.warn("Could not locate user");centerMap(b,DEFAULT_LAT,DEFAULT_LNG,DEFAULT_ZOOM)})}var app=angular.module("satellite.tracker.js",["leaflet-directive","ngResource"]);app.config(function(a){a.decorator("$log",function(b){return{log:function(){b.log.apply(null,["[log] "+arguments[0]])},info:function(){b.info.apply(null,["[info] "+arguments[0]])},error:function(){b.error.apply(null,["[error] "+arguments[0]])},warn:function(){b.info.apply(null,["[warn] "+arguments[0]])}}})});app.factory("listGroundStations",function(a){return a("/configuration/groundstations",{})});app.controller("MapController",["$scope","$log","$resource","leafletData","listGroundStations",function(b,e,d,a,c){angular.extend(b,{center:{lat:DEFAULT_LAT,lng:DEFAULT_LNG,zoom:DEFAULT_ZOOM}});a.getMap().then(function(f){locateUser(e,f)});b.init=function(){b._simulator=new Simulator(e,c)}}]);app.controller("NotificationAreaController",["$scope","$log",function(a,b){}]);